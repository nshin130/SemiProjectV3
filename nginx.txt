nginx 서버 설정하기

오픈소스 Http 서버 (웹서버)
웹서버 : 클라이언트의 요청을 받아 서비스하는 특수한 프로그램
클라이언트 요청 (html, css, js, 이미지등의 웹자원을 요구함)

하지만, 웹서버가 응답할 수 없는 클라이언트의 요청을 처리하려면
WAS(Web Application Server) 서버가 필요함

웹서버가 응답할 수 없는 클라이언트의 요청
=> (디비에서 정보를 가져옴, 서버 시간의 시간 요청, 비지니스 로직 처리)


대표적인 웹서버 : apache Http 서버, nginx 서버 (추천!)
대표적인 WAS서버 : tomcat, jetty (java), IIS (C#), django (python)

웹서버 전용 port : 80 (유명한 포트번호라서 생략 가능)
WAS 서버 전용 port : tomcat 8080

(mac ver)
brew install nginx ->
brew services start nginx

(window ver)
nginx.org
=> nginx/Windows-1.19.6 (2021.02.04기준)
=> c:/Java에 압축해제 해둠

nginx 시작 : nginx.exe
브라우져 실행후 주소창에 localhost 또는 127.0.0.1 입력


테스트용 이미지 저장
=> macos의 nginx 기본 html 위치 : /opt/homebrew/var/www (m1)
                                /usr/local/var/www   (intel)
                           -> 파인더-> 숨긴파일보기 ->usr/local/var/www/html아래에 cdn폴더생성

=> window: C:/Java/nginx-1.19.6/html 아래에

   cdn 폴더를 생성한 후 아무 이미지 하나 복사해 둠


업로드해둔 그림파일 확인
=> 주소창에 'localhost/cdn/그림파일명' 입력

따라서, 이미지 업로드시 nginx 루트 디렉토리에 저장해 두어야
웹에서 이미지를 쉽게 볼수 있음

포트번호 변경하기
=> nano /usr/local/etc/nginx/nginx.conf
=> 포트번호 8080->80
=> 저장 ctrl+O 엔터 ctrl+p? 아래 단축키 보고 따라함
    :wq 는 $ vi 사용시 먹힘

=> 프로그램 재시작: nginx -s stop -> nginx

